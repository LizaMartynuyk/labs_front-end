let imgIndex=0;const width=100,images=document.querySelectorAll(".img"),slider=document.querySelector(".slide");function slidesNext(){imgIndex++,imgIndex>=images.length&&(imgIndex=0),moveSlide()}showSlides();function showSlides(){slidesNext(),timer=setTimeout(showSlideNext,3e3)}function showSlideNext(){clearTimeout(timer),slidesNext(),timer=setTimeout(showSlides,3e3)}function showSlidePrev(){clearTimeout(timer),imgIndex--,0>imgIndex&&(imgIndex=images.length-1),moveSlide(),timer=setTimeout(showSlideNext,3e3)}const btnNext=document.querySelector(".next");btnNext.addEventListener("click",showSlideNext);const btnBack=document.querySelector(".back");btnBack.addEventListener("click",showSlidePrev);function moveSlide(){slider.style.transform=`translateX(${-imgIndex*width}%)`}
function createElement(a,b,c,d,e){const f=document.createElement(a);if(b)for(let a in b)"className"==a?f.setAttribute("class",b[a]):"data_btn"===a?f.setAttribute("data-btn",b[a]):f.setAttribute(a,b[a]);if(c)for(let a in c)f.addEventListener(a,c[a]);return f.textContent=d,e.appendChild(f),f}function clickButton(a,b){const c=document.querySelector(a);c.addEventListener("click",b)}
async function getCarstoLocalStor(){const a=await fetch(`./static/cars.json`);let b=await a.json();null===localStorage.getItem("cars")&&(localStorage.setItem("cars",JSON.stringify(b)),carInf=JSON.parse(localStorage.getItem("cars")))}async function getGoodstoLocalStor(){const a=await fetch(`./static/accessories.json`);let b=await a.json();null===localStorage.getItem("accessories")&&(localStorage.setItem("accessories",JSON.stringify(b)),goodsInf=JSON.parse(localStorage.getItem("accessories")))}async function getPeopletoLocalStor(){const a=await fetch(`./static/people.json`);let b=await a.json();null===localStorage.getItem("people")&&(localStorage.setItem("people",JSON.stringify(b)),peopleInf=JSON.parse(localStorage.getItem("people")))}async function initApplication(){await Promise.all([getCarstoLocalStor(),getGoodstoLocalStor(),getPeopletoLocalStor()]),addPurchaseCarsInData(),addPurchaseGoogsInData();const a=document.querySelector(".searchfilterCars");a.addEventListener("click",function(a){a.preventDefault(),showFilterCars(carInf)});const b=document.querySelector(".searchFilterGoods");b.addEventListener("click",function(a){a.preventDefault(),showFilterGoods(goodsInf)});const c=document.querySelector(".searchFilterPeople");c.addEventListener("click",function(a){a.preventDefault(),showFilterPeople(peopleInf)});const d=document.querySelector(".searchfilterBoughtCars");d.addEventListener("click",function(a){a.preventDefault(),showFilterPurchasesCars(purchaseCarsInf)});const e=document.querySelector(".searchFilterPurchasesGoods");e.addEventListener("click",function(a){a.preventDefault(),showFilterPurchasesGoods(purchaseGoodsInf)})}
function cleaning(a){for(let b=0;b<a.length;b++)a[b].value=""}function cleaningCarsFilter(){const a=document.querySelectorAll(".formFilterCars .inputFilter");cleaning(a)}function cleaningCarsFilterData(){cleaningCarsFilter(),showCars()}function cleaningGoodsFilter(){const a=document.querySelectorAll(".formFilterGoods .inputFilter");cleaning(a)}function cleaningGoodsFilterData(){cleaningGoodsFilter(),showGoods()}function cleaningPeopleFilter(){const a=document.querySelectorAll(".formFilterPeople .inputFilter");cleaning(a)}function cleaningPeopleFilterData(){cleaningPeopleFilter(),showPeople()}function cleaningBoughtCarsFilter(){const a=document.querySelectorAll(".formFilterBoughtCars .inputFilter");cleaning(a)}function cleaningBoughtCarsFilterData(){cleaningBoughtCarsFilter(),showBoughtCars()}function cleaningBoughtGoodsFilter(){const a=document.querySelectorAll(".formFilterBoughtGoods .inputFilter");cleaning(a)}function cleaningBoughtGoodsFilterData(){cleaningBoughtGoodsFilter(),showBoughtAccessories()}
let filteredArray=[];function filter(a,b,c){let d=[],e=[...a];for(const f of e)!0===(f[b].toLowerCase()+"").includes(c.toLowerCase())&&d.push(f);return filteredArray=d,d}function createElementFilter(a,b,c,d,e,f,g,h){for(let j=0;j<d.length;j++){const i=document.createElement("tr");for(let a in i.setAttribute("id",d[j].id),c.appendChild(i),createElement("td",null,null,j+1,i),d[j])if(f&&"id"!==a&&"customerid"!==a&&("date"===a?createElement("td",null,null,Intl.DateTimeFormat("ua").format(d[j][a]),i):createElement("td",null,null,d[j][a],i)),g){if("id"!==a&&"auto"!==a&&"accessories"!==a&&createElement("td",null,null,d[j][a],i),"auto"===a){let a=createElement("td",null,null,null,i);d[j].auto.forEach(b=>{createElement("p",null,null,b.model+", ",a)})}if("accessories"===a){let a=createElement("td",null,null,null,i);d[j].accessories.forEach(b=>{createElement("p",null,null,b.product+", ",a)})}}if(e){const c=createElement("td",{className:"action d-flex",id:d[j].id},null,null,i);createElement("span",{className:"icon-delete btn-del btn-act"},{click:a},null,c),createElement("span",{className:"icon-edit btn-edit btn-act",id:d[j].id},{click:b},null,c)}if(h){const a=createElement("td",{className:"action d-flex",id:d[j].id},null,null,i);createElement("span",{className:"icon-euro btn-buy btn-act",id:d[j].id},{click:showSellForm},null,a)}}const j=document.querySelectorAll(".pagination");for(let k=0;k<j.length;k++)j[k].innerHTML=""}function showFilterCars(a){const b=document.getElementById("tbody");b.classList.add("filterNone");const c=document.getElementById("tbody-filter-cars");c.classList.remove("filterNone"),c.innerHTML="";const d=document.querySelector(".filterFuel").value.trim(),e=document.querySelector(".filterTransmission").value.trim(),f=document.querySelector(".filterNum").value.trim(),g=document.querySelector(".filterBody").value.trim(),h=document.querySelector(".filterColor").value.trim(),i=document.querySelector(".filterEngine").value.trim(),j=document.querySelector(".filterPriceCars").value.trim(),k=document.querySelector(".filterQuantityCars").value.trim();let l=[...a];""!==d&&(l=filter(l,"fuel",d)),""!==e&&(l=filter(l,"transmission",e)),""!==f&&(l=filter(l,"model",f)),""!==g&&(l=filter(l,"body",g)),""!==h&&(l=filter(l,"color",h)),""!==i&&(l=filter(l,"engine",i)),""!==j&&(l=filter(l,"price",j)),""!==k&&(l=filter(l,"quantity",k)),createElementFilter(removeCars,editCars,c,l,1,1)}function showFilterPeople(a){const b=document.getElementById("tbody-clients");b.classList.add("filterNone");const c=document.getElementById("tbody-filter-people");c.classList.remove("filterNone"),c.innerHTML="";const d=document.querySelector(".filterName").value.trim(),e=document.querySelector(".filterSurname").value.trim(),f=document.querySelector(".filterAge").value.trim(),g=document.querySelector(".filterAddress").value.trim(),h=document.querySelector(".filterEmail").value.trim(),i=document.querySelector(".filterPhoneNumber").value.trim();let j=[...a];""!==d&&(j=filter(j,"name",d)),""!==e&&(j=filter(j,"surname",e)),""!==f&&(j=filter(j,"age",f)),""!==g&&(j=filter(j,"address",g)),""!==h&&(j=filter(j,"email",h)),""!==i&&(j=filter(j,"phone_number",i)),createElementFilter(removePeople,editPerson,c,j,1,0,1,1)}function showFilterGoods(a){const b=document.getElementById("tbody-goods");b.classList.add("filterNone");const c=document.getElementById("tbody-filter-goods");c.classList.remove("filterNone"),c.innerHTML="";const d=document.querySelector(".filterProduct").value.trim(),e=document.querySelector(".filterPartNumber").value.trim(),f=document.querySelector(".filterIntendedForModel").value.trim(),g=document.querySelector(".filterPriceGoods").value.trim(),h=document.querySelector(".filterQuantityGoods").value.trim();let i=[...a];""!==d&&(i=filter(i,"product",d)),""!==e&&(i=filter(i,"part_number",e)),""!==f&&(i=filter(i,"intended_for_cars",f)),""!==g&&(i=filter(i,"price",g)),""!==h&&(i=filter(i,"quantity",h)),createElementFilter(removeGoods,editGoods,c,i,1,1)}function showFilterPurchasesCars(a){const b=document.getElementById("tbody-bought-cars");b.classList.add("filterNone");const c=document.getElementById("tbody-filter-bought-cars");c.classList.remove("filterNone"),c.innerHTML="";const d=document.querySelector(".filterFuelPurchases").value.trim(),e=document.querySelector(".filterTransmissionPurchases").value.trim(),f=document.querySelector(".filterNumPurchases").value.trim(),g=document.querySelector(".filterBodyPurchases").value.trim(),h=document.querySelector(".filterColorPurchases").value.trim(),i=document.querySelector(".filterEnginePurchases").value.trim(),j=document.querySelector(".filterPriceCarsPurchases").value.trim(),k=document.querySelector(".filterCustomerPurchasesCars").value.trim();let l=[...a];""!==d&&(l=filter(l,"fuel",d)),""!==e&&(l=filter(l,"transmission",e)),""!==f&&(l=filter(l,"model",f)),""!==g&&(l=filter(l,"body",g)),""!==h&&(l=filter(l,"color",h)),""!==i&&(l=filter(l,"engine",i)),""!==j&&(l=filter(l,"price",j)),""!==k&&(l=filter(l,"customer",k)),createElementFilter(null,null,c,l,0,1)}function showFilterPurchasesGoods(a){const b=document.getElementById("tbody-bought-goods");b.classList.add("filterNone");const c=document.getElementById("tbody-filter-bought-goods");c.classList.remove("filterNone"),c.innerHTML="";const d=document.querySelector(".filterProductPurchases").value.trim(),e=document.querySelector(".filterPartNumberPurchases").value.trim(),f=document.querySelector(".filterIntendedForModelPurchases").value.trim(),g=document.querySelector(".filterPriceGoodsPurchases").value.trim(),h=document.querySelector(".filterCustomerPurchasesGoods").value.trim();let i=[...a];""!==d&&(i=filter(i,"product",d)),""!==e&&(i=filter(i,"part_number",e)),""!==f&&(i=filter(i,"intended_for_cars",f)),""!==g&&(i=filter(i,"price",g)),""!==h&&(i=filter(i,"customer",h)),createElementFilter(null,null,c,i,0,1)}
let columnDir=!0;function moveArrows(a){let b=document.querySelectorAll(".arr-sort");b.forEach(b=>{b.classList.remove("arr-up"),b.classList.remove("arr-down"),b==a.target&&(!1==columnDir?b.classList.add("arr-down"):b.classList.add("arr-up"))})}function sortTable(a,b,c){let d=a.target.getAttribute("data-col"),e=document.getElementById(c);moveArrows(a),columnDir=!columnDir,e.classList.contains("filterNone")?null!==d&&(sortDetails(filteredArray,d,columnDir),"tbody"===c?showFilterCars(filteredArray):"tbody-goods"===c?showFilterGoods(filteredArray):"tbody-clients"===c?showFilterPeople(filteredArray):"tbody-bought-cars"===c?showFilterPurchasesCars(filteredArray):showFilterPurchasesGoods(filteredArray)):null!==d&&(sortDetails(b,d,columnDir),"tbody"===c?showCars():"tbody-goods"===c?showGoods():"tbody-clients"===c?showPeople():"tbody-bought-cars"===c?showBoughtCars():showBoughtAccessories())}function sortDetails(a,b,c){return a.sort(function(a,d){if("id"===b||"model"===b||"transmission"===b||"date"===b||"price"===b||"quantity"===b||"part_number"===b||"age"===b||"phone_number"===b){if(!1==c)return+a[b]-+d[b];if(!0==c)return+d[b]-+a[b]}if("intended_for_cars"===b){if(c?+a[b].split(" ").slice(-1)>+d[b].split(" ").slice(-1):+a[b].split(" ").slice(-1)<+d[b].split(" ").slice(-1))return-1;}else if(c?a[b].toLowerCase()>d[b].toLowerCase():a[b].toLowerCase()<d[b].toLowerCase())return-1})}
function addPurchaseCarsInData(){let a=[];for(let b=0;b<peopleInf.length;b++){const c=peopleInf[b].auto,d=peopleInf[b].name+" "+peopleInf[b].surname+", "+peopleInf[b].email;if(0<c.length)for(let e=0;e<c.length;e++)c[e].customerid=peopleInf[b].id,c[e].customer=d,a.push(c[e])}localStorage.setItem("purchaseCars",JSON.stringify(a)),purchaseCarsInf=JSON.parse(localStorage.getItem("purchaseCars"))||[]}function addPurchaseGoogsInData(){let a=[];for(let b=0;b<peopleInf.length;b++){const c=peopleInf[b].accessories,d=peopleInf[b].name+" "+peopleInf[b].surname+", "+peopleInf[b].email;if(0<c.length)for(let b=0;b<c.length;b++)c[b].customer=d,a.push(c[b])}localStorage.setItem("purchaseGoods",JSON.stringify(a)),purchaseGoodsInf=JSON.parse(localStorage.getItem("purchaseGoods"))||[]}
function editCars(a){const b=+a.target.getAttribute("id"),c=document.querySelector(".editAddCar");c.style.display="block";const d=carInf.find(a=>a.id===b);document.querySelector(".textModel").value=d.model,document.querySelector(".textBody").value=d.body,document.querySelector(".textColor").value=d.color,document.querySelector(".textEngine").value=d.engine,document.querySelector(".textTransmission").value=d.transmission,document.querySelector(".textFuel").value=d.fuel,document.querySelector(".textPriceCar").value=d.price,document.querySelector(".textQuantityCars").value=d.quantity;const e=document.querySelector(".btnSaveCar");e.style.display="none";const f=document.querySelector(".btnSaveEditCar");f.style.display="block",f.setAttribute("id",b),clickButton(".btnSaveEditCar",saveNewEditCar),clickButton(".btnCloseCar",closeForm)}function saveNewEditCar(a){const b=+a.target.getAttribute("id"),c=carInf.find(a=>a.id===b);if(validateFormCars()){const a=document.querySelector(".textModel").value,b=document.querySelector(".textBody").value,d=document.querySelector(".textColor").value,e=document.querySelector(".textEngine").value,f=document.querySelector(".textTransmission").value,g=document.querySelector(".textFuel").value,h=document.querySelector(".textPriceCar").value,i=document.querySelector(".textQuantityCars").value;c.model=a,c.body=b,c.color=d,c.engine=e,c.transmission=f,c.fuel=g,c.price=h,c.quantity=i,localStorage.setItem("cars",JSON.stringify(carInf));const j=document.querySelector(".editAddCar");hideForm(),j.style.display="none",showCars()}}function editGoods(a){const b=+a.target.getAttribute("id"),c=document.querySelector(".editAddGoods");c.style.display="block";const d=goodsInf.find(a=>a.id===b);document.querySelector(".textProduct").value=d.product,document.querySelector(".textPartNumber").value=d.part_number,document.querySelector(".textIntendeForCars").value=d.intended_for_cars,document.querySelector(".textPriceAccessories").value=d.price,document.querySelector(".textQuantityGoods").value=d.quantity;const e=document.querySelector(".btnSaveGoods");e.style.display="none";const f=document.querySelector(".btnSaveEditGoods");f.style.display="block",f.setAttribute("id",b),clickButton(".btnSaveEditGoods",saveNewEditGoods),clickButton(".btnCloseGoods",closeForm)}function saveNewEditGoods(a){const b=+a.target.getAttribute("id"),c=goodsInf.find(a=>a.id===b);if(validateFormGoods()){const a=document.querySelector(".textProduct").value,b=document.querySelector(".textPartNumber").value,d=document.querySelector(".textIntendeForCars").value,e=document.querySelector(".textPriceAccessories").value,f=document.querySelector(".textQuantityGoods").value;c.product=a,c.part_number=b,c.intended_for_cars=d,c.price=e,c.quantity=f,localStorage.setItem("accessories",JSON.stringify(goodsInf));const g=document.querySelector(".editAddGoods");hideForm(),g.style.display="none",showGoods()}}function editPerson(a){const b=+a.target.getAttribute("id"),c=document.querySelector(".editAddPeople");c.style.display="block";const d=peopleInf.find(a=>a.id===b);document.querySelector(".textName").value=d.name,document.querySelector(".textSurname").value=d.surname,document.querySelector(".textAge").value=d.age,document.querySelector(".textAddress").value=d.address,document.querySelector(".textEmail").value=d.email,document.querySelector(".textPhone").value=d.phone_number;const e=document.querySelector(".btnSavePeople");e.style.display="none";const f=document.querySelector(".btnSaveEditPeople");f.style.display="block",f.setAttribute("id",b),clickButton(".btnSaveEditPeople",saveNewEditPerson),clickButton(".btnClose",closeForm)}function saveNewEditPerson(a){const b=+a.target.getAttribute("id"),c=peopleInf.find(a=>a.id===b);if(validateFormPeople()){const a=document.querySelector(".textName").value,b=document.querySelector(".textSurname").value,d=document.querySelector(".textAge").value,e=document.querySelector(".textAddress").value,f=document.querySelector(".textEmail").value,g=document.querySelector(".textPhone").value;c.name=a,c.surname=b,c.age=d,c.address=e,c.email=f,c.phone_number=g,localStorage.setItem("people",JSON.stringify(peopleInf));const h=document.querySelector(".editAddPeople");hideForm(),h.style.display="none",showPeople(),addPurchaseCarsInData(),addPurchaseGoogsInData()}}
const detailsCars=document.querySelector(".details-cars"),detailsGoods=document.querySelector(".details-goods"),detailsClients=document.querySelector(".details-clients"),detailsBoughtCars=document.querySelector(".details-bought-car"),detailsBoughtGoods=document.querySelector(".details-bought-goods");function displayTable(a,b,c,d,e,f){if(b.innerHTML="",void 0!==d&&void 0!==e&&void 0!==f)for(let g=0;g<a.length;g++){const h=document.createElement("tr");for(let d in h.classList.add("faded"),h.setAttribute("data-user",a[g].id),b.appendChild(h),createElement("td",null,null,c+1+g,h),a[g])if("object"!=typeof a[g][d])"id"!==d&&createElement("td",null,null,a[g][d],h);else{let b=createElement("td",null,null,null,h);a[g][d].forEach(a=>{"auto"===d&&createElement("p",null,null,a.model+", ",b),"accessories"===d&&createElement("p",null,null,a.product+", ",b)})}const i=createElement("td",{className:"action d-flex",id:a[g].id},null,null,h);createElement("span",{className:"icon-delete btn-del btn-act"},{click:d},null,i),createElement("span",{className:"icon-edit btn-edit btn-act",id:a[g].id},{click:e},null,i),createElement("span",{className:"icon-euro btn-buy btn-act",id:a[g].id},{click:f},null,i)}else for(let f=0;f<a.length;f++){const g=document.createElement("tr");for(let d in g.setAttribute("id",a[f].id),g.classList.add("faded"),b.appendChild(g),createElement("td",null,null,c+1+f,g),a[f])"id"!=d&&"customerid"!==d&&("date"===d?createElement("td",null,null,Intl.DateTimeFormat("ua").format(a[f][d]),g):createElement("td",null,null,a[f][d],g));if(null!=d){const b=createElement("td",{className:"action d-flex",id:a[f].id},null,null,g);createElement("span",{className:"icon-delete btn-del btn-act"},{click:d},null,b),createElement("span",{className:"icon-edit btn-edit btn-act",id:a[f].id},{click:e},null,b)}}}function createPaginationFirst(a){return a.slice(0,10)}function pagination(a,b,c,d,f,g,h){a.innerHTML="";const i=10;let j=1;const k=Math.ceil(b.length/10);for(let e,l=1;l<=k;l++)e=document.createElement("button"),e.innerHTML=l,e.addEventListener("click",function(a){j=+a.target.innerHTML;let e=(j-1)*i;const k=document.querySelector(`${d} .active`);k&&k.classList.remove("active"),a.target.classList.add("active");let l=b.slice(e,e+i);displayTable(l,c,e,f,g,h)}),1==l&&e.classList.add("active"),a.appendChild(e)}function showCars(){const a=document.getElementById("tbody"),b=document.querySelector(".closeTableCar");b.addEventListener("click",closeTableCars),a.classList.remove("filterNone");const c=document.querySelector(".pagination-car");a.innerHTML="",c.innerHTML="",detailsCars.style.display="block",detailsGoods.style.display="none",detailsClients.style.display="none",detailsBoughtCars.style.display="none",detailsBoughtGoods.style.display="none";const d=document.getElementById("tbody-filter-cars");d.classList.add("filterNone");let e=createPaginationFirst(carInf);displayTable(e,a,0,removeCars,editCars),10<carInf.length&&pagination(c,carInf,a,".pagination-car",removeCars,editCars),emptyListCar()}function showGoods(){detailsGoods.style.display="block",detailsCars.style.display="none",detailsClients.style.display="none",detailsBoughtCars.style.display="none",detailsBoughtGoods.style.display="none";const a=document.querySelector(".closeTableGoods");a.addEventListener("click",closeTableGoods);const b=document.getElementById("tbody-goods");b.classList.remove("filterNone");const c=document.querySelector(".goods-pagination");b.innerHTML="",c.innerHTML="";const d=document.getElementById("tbody-filter-goods");d.classList.add("filterNone");let e=createPaginationFirst(goodsInf);displayTable(e,b,0,removeGoods,editGoods),10<goodsInf.length&&pagination(c,goodsInf,b,".goods-pagination",removeGoods,editGoods),emptyListGoods()}function showBoughtCars(){const a=document.getElementById("tbody-bought-cars");a.classList.remove("filterNone");const b=document.querySelector(".pagination-boughtcars");a.innerHTML="",b.innerHTML="";const c=document.getElementById("tbody-filter-bought-cars");c.classList.add("filterNone"),clickButton(".closeTableBoughtCars",closeTableBoughtCars),detailsCars.style.display="none",detailsGoods.style.display="none",detailsClients.style.display="none",detailsBoughtCars.style.display="block",detailsBoughtGoods.style.display="none";let d=createPaginationFirst(purchaseCarsInf);displayTable(d,a,0),10<purchaseCarsInf.length&&pagination(b,purchaseCarsInf,a,".pagination-boughtcars"),emptyListPurchaseCars()}function showBoughtAccessories(){const a=document.getElementById("tbody-bought-goods");a.classList.remove("filterNone");const b=document.querySelector(".pagination-boughtgoods");a.innerHTML="",b.innerHTML="";const c=document.getElementById("tbody-filter-bought-goods");c.classList.add("filterNone"),clickButton(".closeTableBoughtGoods",closeTableBoughtGoods),detailsCars.style.display="none",detailsGoods.style.display="none",detailsClients.style.display="none",detailsBoughtCars.style.display="none",detailsBoughtGoods.style.display="block";let d=createPaginationFirst(purchaseGoodsInf);displayTable(d,a,0),10<purchaseGoodsInf.length&&pagination(b,purchaseGoodsInf,a,".pagination-boughtgoods"),emptyListPurchaseGoods()}function showPeople(){detailsClients.style.display="block",detailsCars.style.display="none",detailsGoods.style.display="none",detailsBoughtCars.style.display="none",detailsBoughtGoods.style.display="none";const a=document.getElementById("tbody-clients");a.classList.remove("filterNone");const b=document.querySelector(".pagination-clients");a.innerHTML="",b.innerHTML="";const c=document.getElementById("tbody-filter-people");c.classList.add("filterNone"),clickButton(".closeTableCustoners",closeTableCustomers);let d=createPaginationFirst(peopleInf);displayTable(d,a,0,removePeople,editPerson,showSellForm),10<peopleInf.length&&pagination(b,peopleInf,a,".pagination-clients",removePeople,editPerson,showSellForm),emptyListPeople()}
function createNewCar(){const a=document.querySelector(".editAddCar");a.style.display="block",document.querySelector(".textModel").value="",document.querySelector(".textBody").value="",document.querySelector(".textColor").value="",document.querySelector(".textEngine").value="",document.querySelector(".textTransmission").value="",document.querySelector(".textFuel").value="",document.querySelector(".textPriceCar").value="",document.querySelector(".textQuantityCars").value="";const b=document.querySelector(".btnSaveCar");b.style.display="block";const c=document.querySelector(".btnSaveEditCar");c.style.display="none",clickButton(".btnSaveCar",saveNewCar),clickButton(".btnCloseCar",closeForm)}function saveNewCar(){if(validateFormCars()){const a=document.querySelector(".textModel").value.trim(),b=document.querySelector(".textBody").value.trim().toLowerCase(),c=document.querySelector(".textColor").value.trim().toLowerCase(),d=document.querySelector(".textEngine").value.trim(),e=document.querySelector(".textTransmission").value.trim(),f=document.querySelector(".textFuel").value.trim().toLowerCase(),g=document.querySelector(".textPriceCar").value.trim(),h=document.querySelector(".textQuantityCars").value.trim();if(0>=carInf.length){carInf.push({id:1,model:a,body:b,color:c,engine:d,transmission:e,fuel:f,price:g,quantity:h}),localStorage.setItem("cars",JSON.stringify(carInf));const i=document.querySelector(".editAddCar");hideForm(),i.style.display="none",showCars()}else{const i={id:carInf[carInf.length-1].id+1,model:a,body:b,color:c,engine:d,transmission:e,fuel:f,price:g,quantity:h};carInf.push(i),localStorage.setItem("cars",JSON.stringify(carInf));const j=document.querySelector(".editAddCar");hideForm(),j.style.display="none",showCars()}}}function createNewAccessories(){const a=document.querySelector(".editAddGoods");a.style.display="block",document.querySelector(".textProduct").value="",document.querySelector(".textPartNumber").value="",document.querySelector(".textIntendeForCars").value="",document.querySelector(".textPriceAccessories").value="",document.querySelector(".textQuantityGoods").value="";const b=document.querySelector(".btnSaveGoods");b.style.display="block";const c=document.querySelector(".btnSaveEditGoods");c.style.display="none",clickButton(".btnSaveGoods",saveNewAccessories),clickButton(".btnCloseGoods",closeForm)}function saveNewAccessories(){if(validateFormGoods()){const a=document.querySelector(".textProduct").value.trim().toLowerCase(),b=document.querySelector(".textPartNumber").value.trim(),c=document.querySelector(".textIntendeForCars").value.trim().toLowerCase(),d=document.querySelector(".textPriceAccessories").value.trim(),e=document.querySelector(".textQuantityGoods").value.trim();if(goodsInf.sort((c,a)=>c.id-a.id),0>=goodsInf.length){goodsInf.push({id:1,product:a,part_number:b,intended_for_cars:c,price:d,quantity:e}),localStorage.setItem("accessories",JSON.stringify(goodsInf));const f=document.querySelector(".editAddGoods");hideForm(),f.style.display="none",showGoods()}else{const f={id:goodsInf[goodsInf.length-1].id+1,product:a,part_number:b,intended_for_cars:c,price:d,quantity:e};goodsInf.push(f),localStorage.setItem("accessories",JSON.stringify(goodsInf));const g=document.querySelector(".editAddGoods");hideForm(),g.style.display="none",showGoods()}}}function createNewPeople(){const a=document.querySelector(".editAddPeople");a.style.display="block",document.querySelector(".textName").value="",document.querySelector(".textSurname").value="",document.querySelector(".textAge").value="",document.querySelector(".textAddress").value="",document.querySelector(".textEmail").value="",document.querySelector(".textPhone").value="";const b=document.querySelector(".btnSavePeople");b.style.display="block";const c=document.querySelector(".btnSaveEditPeople");c.style.display="none",clickButton(".btnSavePeople",saveNewPeople),clickButton(".btnClose",closeForm)}function saveNewPeople(){if(validateFormPeople()){const a=document.querySelector(".textName").value,b=document.querySelector(".textSurname").value,c=document.querySelector(".textAge").value,d=document.querySelector(".textAddress").value,e=document.querySelector(".textEmail").value,f=document.querySelector(".textPhone").value;if(peopleInf.sort((c,a)=>c.id-a.id),0>=peopleInf.length){peopleInf.push({id:1,name:a,surname:b,age:c,address:d,email:e,phone_number:f,auto:[],accessories:[]}),localStorage.setItem("people",JSON.stringify(peopleInf));const g=document.querySelector(".editAddPeople");hideForm(),g.style.display="none",showPeople()}else{const g={id:peopleInf[peopleInf.length-1].id+1,name:a,surname:b,age:c,address:d,email:e,phone_number:f,auto:[],accessories:[]};peopleInf.push(g),localStorage.setItem("people",JSON.stringify(peopleInf));const h=document.querySelector(".editAddPeople");hideForm(),h.style.display="none",showPeople()}}}
function closeForm(){const a=document.querySelector(".editAddPeople");a.style.display="none";const b=document.querySelector(".editAddGoods");b.style.display="none";const c=document.querySelector(".editAddCar");c.style.display="none";const d=document.querySelector(".sellGoods");d.style.display="none",cleanOrdersHistory()}function cleanOrdersHistory(){const a=document.querySelector(".order-history-info");a.innerHTML="",a.style.display="none"}function closeTableCars(){document.querySelector(".details-cars").style.display="none",cleaningCarsFilter()}function closeTableGoods(){document.querySelector(".details-goods").style.display="none",cleaningGoodsFilter()}function closeTableCustomers(){document.querySelector(".details-clients").style.display="none",cleaningPeopleFilter()}function closeTableBoughtCars(){document.querySelector(".details-bought-car").style.display="none",cleaningBoughtCarsFilter()}function closeTableBoughtGoods(){document.querySelector(".details-bought-goods").style.display="none",cleaningBoughtGoodsFilter()}
function emptyList(a,b,c,d,e){if(0>=a.length){const a=document.querySelector(b);a.style.display="none";const f=document.querySelector(c);f.style.display="none";const g=document.querySelector(d);g.style.display="block";const h=document.querySelector(e);h.style.display="none"}if(0<a.length){const a=document.querySelector(d);a.style.display="none";const f=document.querySelector(c);f.style.display="block";const g=document.querySelector(b);g.style.display="inline-table";const h=document.querySelector(e);h.style.display="flex"}}function emptyListCar(){emptyList(carInf,".table_car",".title_cars",".messageEmptyCar",".formFilterCars")}function emptyListGoods(){emptyList(goodsInf,".table_goods",".title_goods",".messageEmptyGoods",".formFilterGoods")}function emptyListPeople(){emptyList(peopleInf,".table_people",".title_people",".messageEmptyPeople",".formFilterPeople")}function emptyListPurchaseCars(){emptyList(purchaseCarsInf,".table_bought_car",".title_bought_car",".messageEmptyBoughtCar",".formFilterBoughtCars")}function emptyListPurchaseGoods(){emptyList(purchaseGoodsInf,".table_bought_goods",".title_bought_goods",".messageEmptyBoughtGoods",".formFilterBoughtGoods")}
function remove(a,b){const c=document.querySelector(".confirmation");c.style.display="block";const d=document.querySelector(".yes");d.setAttribute("id",a),clickButton(".yes",b),clickButton(".no",cancelDelete)}function cancelDelete(){const a=document.querySelector(".confirmation");a.style.display="none"}function removeCars(a){const b=a.target.parentNode.getAttribute("id");remove(b,deleteCar)}function deleteCar(a){const b=document.querySelector(".confirmation");b.style.display="none";const c=a.target.getAttribute("id");carInf=carInf.filter(a=>a.id!=c),localStorage.setItem("cars",JSON.stringify(carInf)),showCars()}function removeGoods(a){const b=a.target.parentNode.getAttribute("id");remove(b,deleteGoods)}function deleteGoods(a){const b=document.querySelector(".confirmation");b.style.display="none";const c=a.target.getAttribute("id");goodsInf=goodsInf.filter(a=>a.id!=c),localStorage.setItem("accessories",JSON.stringify(goodsInf)),showGoods()}function removePeople(a){const b=a.target.parentNode.getAttribute("id");remove(b,deletePeople)}function deletePeople(a){const b=document.querySelector(".confirmation");b.style.display="none";const c=a.target.getAttribute("id");peopleInf=peopleInf.filter(a=>a.id!=c),localStorage.setItem("people",JSON.stringify(peopleInf)),showPeople(),addPurchaseCarsInData(),addPurchaseGoogsInData()}
let cart={},carCart={};function cleanOptions(a,b){if(a.contains(document.querySelector(b))){let a=document.querySelectorAll(b);for(let b=0;b<a.length;b++)a[b].remove()}}function showSellForm(a){const b=a.target.getAttribute("id"),c=document.querySelector(".sellGoods");c.style.display="block",clickButton(".btnCloseSell",closeForm),peopleInf.forEach(a=>{a.id===+b&&(person=a)});const d=b,e=document.querySelector(".order-history");e.addEventListener("click",function(){showOrdersHistory(d)}),document.querySelector(".sell-name").innerHTML=`${person.name} ${person.surname}`;const f=document.querySelector(".select-carModel"),g=document.querySelector(".select-carBody"),h=document.querySelector(".select-goodsModel");cleanOptions(f,".model-option"),cleanOptions(g,".body-option"),cleanOptions(h,".formodel-option");let j=filterUniqeModel(carInf,"model");sortDetails(j,"model",!1);let k=filterUniqeModel(goodsInf,"intended_for_cars");sortDetails(k,"intended_for_cars",!1);for(let b,c=0;c<j.length;c++)b=document.createElement("option"),b.value=j[c].model,b.classList.add("model-option"),b.textContent=j[c].model,f.appendChild(b);for(let b,c=0;c<k.length;c++)b=document.createElement("option"),b.value=k[c].intended_for_cars.split(" ").slice(-1),b.classList.add("formodel-option"),b.textContent=b.value,h.appendChild(b);f.addEventListener("change",function(a){let b=a.target;if(g.contains(document.querySelector(".body-option"))){let a=document.querySelectorAll(".body-option");for(let b=0;b<a.length;b++)a[b].remove()}let c=b.options[b.selectedIndex].value;if(c){let a=carInf.filter(function(a){return a.model===c}),b=filterUniqeModel(a,"body");sortDetails(b,"body",!1);for(let a,c=0;c<b.length;c++)a=document.createElement("option"),a.classList.add("body-option"),a.value=b[c].body,a.textContent=b[c].body,g.appendChild(a);g.addEventListener("change",function(b){let c=b.target.value;const e=document.querySelector(".btn-sell");e.setAttribute("data-userid",d),e.addEventListener("click",function(){cleanOrdersHistory(),0<a.length&&(showCarsForSell(a,c),a=[]),g.selectedIndex=0,f.selectedIndex=0})})}}),h.addEventListener("change",function(){let a=h.value;const b=document.querySelector(".btn-sellgoods");b.setAttribute("data-userid",d),b.addEventListener("click",function(){document.querySelector(".selectedcar-table").innerHTML="",cleanOrdersHistory(),a&&showGoodsForSell(goodsInf,a),a=""})})}function filterUniqeModel(a,b){function c(a){return!(-1!==d.indexOf(a[b]))&&(d.push(a[b]),!0)}let d=[],e=a.filter(a=>c(a));return e}function showCarsForSell(a,b){const c=document.querySelector(".selectedcar");c.style.display="block",carCart={},cart={};const d=document.querySelector(".selectedcar-table");d.innerHTML="",d.innerHTML+=`<table class="table table_car">
<thead class="th_car">
    <tr class="headrow-cars">
        <th>Num</th>
        <th>ID</th>
        <th data-col="model">Model</th>
        <th data-col="body">Body</th>
        <th data-col="color">Color</th>
        <th data-col="engine">Engine</th>
        <th>Trans-<br>mission</th>
        <th data-col="fuel">Fuel type</th>
        <th data-col="price">Price in <br> Euro</th>
        <th data-col="quantity">Quantity</th>
        <th>Action</th>
    </tr>
</thead>
<tbody id="tbodysell">
</tbody>
</table>`;const e=document.getElementById("tbodysell");e.innerHTML="",clickButton(".btnCloseSellDet",closeCleanGoods);let f=a.filter(function(a){return a.body===b});f.forEach((a,b)=>{const c=document.createElement("tr");for(let d in c.setAttribute("id",a.id),e.appendChild(c),createElement("td",null,null,b+1,c),a)createElement("td",{className:d},null,a[d],c);const d=createElement("td",{className:"actionsell d-flex",id:a.id},null,null,c);createElement("input",{className:"quantity",type:"number",min:"1"},null,null,d),createElement("button",{className:"btnSellCar btnSell",id:a.id},{click:addCars},"Sell",d)})}function addCars(a){const b=document.querySelector(".btn-sell").getAttribute("data-userid"),c=document.querySelector(".products"),d=document.querySelector(".result-sell");let e=a.target.parentNode.firstChild.value;const f=a.target.parentNode.parentNode;let g=f.querySelector(".id").innerText,h=Date.now();if(e){c.style.display="flex";const i={userid:b,id:f.querySelector(".id").innerText,model:f.querySelector(".model").innerText,body:f.querySelector(".body").innerText,color:f.querySelector(".color").innerText,engine:f.querySelector(".engine").innerText,transmission:f.querySelector(".transmission").innerText,fuel:f.querySelector(".fuel").innerText,price:f.querySelector(".price").innerText,quantity:e,date:h};carCart[g]=i;const j=d.querySelector(`[data_prod="${i.id}"]`);if(document.querySelector(".productsTotal").style.display="flex",j){const a=j.querySelector(".good-quantity"),b=j.querySelector(".good-total");a.innerText=+e+ +a.innerText,b.innerText=+a.innerText*+i.price,carCart[g].quantity=a.innerText}else{const b=carInf.findIndex(b=>b.id===+a.target.id),c=createElement("div",{className:"product-main",data_prod:carInf[b].id},null,null,d);createElement("div",{className:"good-name"},null,`${carInf[b].id} ${carInf[b].body} ${carInf[b].color} ${carInf[b].engine}`,c),createElement("div",{className:"good-price"},null,carInf[b].price,c),createElement("div",{className:"good-quantity"},null,e,c);let f=+carInf[b].price*+e;createElement("div",{className:"good-total"},null,f,c);const g=createElement("div",{className:"good-delete"},null,null,c);createElement("span",{className:"icon-delete btn-del btn-act delete"},{click:deleteCartRow},null,g)}let k=d.querySelectorAll(".good-total");const l=document.querySelector(".items-total");let m=0;for(let a,b=0;b<k.length;b++)a=+k[b].innerText,m+=a;l.innerText=m,clickButton(".btnConfirm",confirmSellCar)}}function deleteCartRow(a){const b=a.target.parentNode.parentNode,c=b.getAttribute("data_prod");b.remove(),delete carCart[c];const d=document.querySelector(".result-sell");let e=d.querySelectorAll(".good-total");const f=document.querySelector(".items-total");let g=0;for(let b,c=0;c<e.length;c++)b=+e[c].innerText,g+=b;f.innerText=g}function deleteRowGoods(a){const b=a.target.parentNode.parentNode,c=b.getAttribute("data_prod");b.remove(),delete cart[c];const d=document.querySelector(".result-sell");let e=d.querySelectorAll(".good-total");const f=document.querySelector(".items-total");let g=0;for(let b,c=0;c<e.length;c++)b=+e[c].innerText,g+=b;f.innerText=g}function confirmSellCar(){for(let a in carCart){for(let b=0;b<carInf.length;b++)parseInt(a)===carInf[b].id&&(carInf[b].quantity=parseInt(carInf[b].quantity)-parseInt(carCart[a].quantity));for(let b=0;b<peopleInf.length;b++)if(parseInt(carCart[a].userid)==peopleInf[b].id){const c={id:+a,model:carCart[a].model,body:carCart[a].body,color:carCart[a].color,engine:carCart[a].engine,transmission:carCart[a].transmission,fuel:carCart[a].fuel,price:carCart[a].price,quantity:carCart[a].quantity,date:carCart[a].date};peopleInf[b].auto.push(c)}}localStorage.setItem("cars",JSON.stringify(carInf)),localStorage.setItem("people",JSON.stringify(peopleInf)),closeCleanGoods(),showPeople(),addPurchaseCarsInData()}function closeCleanGoods(){document.querySelector(".result-sell").innerHTML="",document.querySelector(".selectedcar-table").innerHTML="",document.querySelector(".items-total").innerText="",document.querySelector(".productsTotal").style.display="none",document.querySelector(".products").style.display="none",document.querySelector(".selectedcar").style.display="none";const a=document.querySelector(".select-carModel"),b=document.querySelector(".select-carBody"),c=document.querySelector(".select-goodsModel");b.selectedIndex=0,a.selectedIndex=0,c.selectedIndex=0}function showGoodsForSell(a,b){const c=document.querySelector(".selectedcar");c.style.display="block",cart={},carCart={};const d=document.querySelector(".selectedcar-table");clickButton(".btnCloseSellDet",closeCleanGoods),d.innerHTML="",d.innerHTML+=`<table class="table table_goods">
    <thead>
        <tr class="headrow-goods">
        <th>Num</th>
            <th data-col="id">ID</th>
            <th data-col="product">Product</th>
            <th data-col="part_number">Part Number</th>
            <th>Intended<br>for model</th>
            <th data-col="price">Price in <br> Euro</th>
            <th data-col="quantity">Quantity</th>
            <th>Action</th>
        </tr>
    </thead>
    <tbody id="tbodyGoods">
    </tbody>
</table>`;let e=a.filter(function(a){return+a.intended_for_cars.split(" ").slice(-1)===+b});const f=document.getElementById("tbodyGoods");e.forEach((a,b)=>{const c=document.createElement("tr");for(let d in c.setAttribute("id",a.id),f.appendChild(c),createElement("td",null,null,b+1,c),a)createElement("td",{className:d},null,a[d],c);const d=createElement("td",{className:"actionsell d-flex",id:a.id},null,null,c);createElement("input",{className:"quantity",type:"number",min:"1"},null,null,d),createElement("button",{className:"btnSell",id:a.id},{click:addGoods},"Add",d)})}function addGoods(a){const b=document.querySelector(".products"),c=document.querySelector(".btn-sellgoods").getAttribute("data-userid"),d=document.querySelector(".result-sell");let e=a.target.parentNode.firstChild.value;const f=a.target.parentNode.parentNode;let g=f.querySelector(".id").innerText,h=Date.now();if(e){const i={userid:c,goodid:f.querySelector(".id").innerText,part_number:f.querySelector(".part_number").innerText,intended_for_cars:f.querySelector(".intended_for_cars").innerText,product:f.querySelector(".product").innerText,price:f.querySelector(".price").innerText,quantity:e,date:h};cart[g]=i;const j=d.querySelector(`[data_prod="${i.goodid}"]`);if(b.style.display="flex",document.querySelector(".productsTotal").style.display="flex",j){const a=j.querySelector(".good-quantity"),b=j.querySelector(".good-total");a.innerText=+i.quantity+ +a.innerText,b.innerText=+a.innerText*+i.price,cart[g].quantity=a.innerText}else{const b=goodsInf.findIndex(b=>b.id===+a.target.id),c=createElement("div",{className:"product-main",data_prod:goodsInf[b].id},null,null,d);createElement("div",{className:"good-name"},null,goodsInf[b].product,c),createElement("div",{className:"good-price"},null,goodsInf[b].price,c),createElement("div",{className:"good-quantity"},null,e,c);let f=+goodsInf[b].price*+e;createElement("div",{className:"good-total"},null,f,c);const g=createElement("div",{className:"good-delete"},null,null,c);createElement("span",{className:"icon-delete btn-del btn-act delete"},{click:deleteRowGoods},null,g)}}let j=d.querySelectorAll(".good-total");const k=document.querySelector(".items-total");let l=0;for(let b,c=0;c<j.length;c++)b=+j[c].innerText,l+=b;k.innerText=l,clickButton(".btnConfirm",confirmSell)}function confirmSell(){for(let a in cart){for(let b=0;b<goodsInf.length;b++)parseInt(a)===goodsInf[b].id&&(goodsInf[b].quantity=parseInt(goodsInf[b].quantity)-parseInt(cart[a].quantity));for(let b=0;b<peopleInf.length;b++)if(parseInt(cart[a].userid)==peopleInf[b].id){const c={id:+a,product:cart[a].product,part_number:cart[a].part_number,intended_for_cars:cart[a].intended_for_cars,price:cart[a].price,quantity:cart[a].quantity,date:cart[a].date};peopleInf[b].accessories.push(c)}}localStorage.setItem("accessories",JSON.stringify(goodsInf)),localStorage.setItem("people",JSON.stringify(peopleInf)),closeCleanGoods(),showPeople(),addPurchaseGoogsInData()}
function showOrdersHistory(a){let b=[];const c=document.querySelector(".order-history-info");c.style.display="block";const d=document.querySelector(".closeOrders");d.addEventListener("click",function(){c.style.display="none"}),c.innerHTML="",peopleInf.forEach(c=>{if(c.id===+a){let a=c.auto,d=c.accessories;if(0<a.length)for(let c=0;c<a.length;c++)b.push(a[c]);if(0<d.length)for(let a=0;a<d.length;a++)b.push(d[a])}}),sortDetails(b,"date",!0);let e=function(a,b){return a.reduce(function(a,c){let d=Intl.DateTimeFormat("ua").format(c[b]),e=a[d]||(a[d]=[]);return e.push(c),a},{})}(b,"date");for(let b in e){let a=e[b];const d=createElement("div",{className:"product-history"},null,null,c),f=createElement("div",{className:"order-date"},null,b,d);for(let b=0;b<a.length;b++){const c=createElement("div",{className:"order"},null,null,f);for(let d in a[b])"id"!=d&&"date"!==d&&"customer"!=d&&"customerid"!=d&&createElement("p",{className:`${d}-history`},null,`${d} : ${a[b][d]}`,c)}}}
let purchaseCarsInf,purchaseGoodsInf,carInf=JSON.parse(localStorage.getItem("cars"))||[],goodsInf=JSON.parse(localStorage.getItem("accessories"))||[],peopleInf=JSON.parse(localStorage.getItem("people"))||[];initApplication(),clickButton(".viewCars",showCars),clickButton(".viewAccessories",showGoods),clickButton(".viewClients",showPeople),clickButton(".viewBoughtCars",showBoughtCars),clickButton(".viewBoughtAccessories",showBoughtAccessories),clickButton(".addNewPeople",createNewPeople),clickButton(".addNewAccessories",createNewAccessories),clickButton(".addCar",createNewCar),clickButton(".btnCleaningCarsFilter",cleaningCarsFilterData),clickButton(".btnCleaningGoodsFilter",cleaningGoodsFilterData),clickButton(".btnCleaningPeopleFilter",cleaningPeopleFilterData),clickButton(".btnCleaningBoughtCarsFilter",cleaningBoughtCarsFilterData),clickButton(".btnCleaningBoughtGoodsFilter",cleaningBoughtGoodsFilterData),clickButton(".headrow-cars",function(a){sortTable(a,carInf,"tbody")}),clickButton(".headrow-goods",function(a){sortTable(a,goodsInf,"tbody-goods")}),clickButton(".headrow-people",function(a){sortTable(a,peopleInf,"tbody-clients")}),clickButton(".headrow_bought_car",function(a){sortTable(a,purchaseCarsInf,"tbody-bought-cars")}),clickButton(".headrow_bought_goods",function(a){sortTable(a,purchaseGoodsInf,"tbody-bought-goods")});
const setError=(a,b)=>{const c=a.parentElement,d=c.nextElementSibling;d.innerText=b,c.classList.add("error"),c.classList.remove("success")},setSuccess=a=>{const b=a.parentElement,c=b.nextElementSibling;c.innerText="",b.classList.add("success"),b.classList.remove("error")},isValidName=a=>{return /^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/u.test((a+"").toLowerCase())},isValidSurname=a=>{return /^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/u.test((a+"").toLowerCase())},isValidAge=a=>{return /^\d{2,3}$/.test((a+"").toLowerCase())},isValidAddress=a=>{return /^[a-zа-яA-ZА-Я0-9+_]{1,64}/.test((a+"").toLowerCase())},isValidEmail=a=>{return /^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test((a+"").toLowerCase())},isValidPhone=a=>{return /^[\d\][\d\(\)\ -]{9,10}\d$/.test((a+"").toLowerCase())},isValidProduct=a=>{return /^[a-zа-яA-ZА-Я0-9+_]{1,164}/.test((a+"").toLowerCase())},isValidPartNumber=a=>{return /^\d{6,10}$/.test((a+"").toLowerCase())},isValidIntende=a=>{return /peugeot \d{3,4}/.test((a+"").toLowerCase())},isValidPriceGoods=a=>{return /^\d{1,10}$/.test((a+"").toLowerCase())},isValidQuantityGoods=a=>{return /^\d{1,10}$/.test((a+"").toLowerCase())},isValidModel=a=>{return /^\d{1,10}$/.test((a+"").toLowerCase())},isValidBody=a=>{return /^[a-zA-Zа-яА-Я'][a-zA-Zа-яА-Я-' ]+[a-zA-Zа-яА-Я']?$/u.test((a+"").toLowerCase())},isValidColor=a=>{return /^.{3,20}$/.test((a+"").toLowerCase())},isValidEngine=a=>{return /^[a-zа-яA-ZА-Я0-9+_]{1,64}/.test((a+"").toLowerCase())},isValidTransmission=a=>{return /^[a-zа-яA-ZА-Я0-9+_]{1,10}/.test((a+"").toLowerCase())},isValidFuel=a=>{return /(gas|diesel)/.test((a+"").toLowerCase())},isValidPriceCar=a=>{return /^\d{1,10}$/.test((a+"").toLowerCase())},isValidQuantityCar=a=>{return /^\d{1,10}$/.test((a+"").toLowerCase())};function validateName(a){return""===a.value?(setError(a,"User name cannot be blank"),result=!1):isValidName(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid name"),result=!1),result}function validateSurname(a){return""===a.value?(setError(a,"User surname cannot be blank"),result=!1):isValidSurname(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid surname"),result=!1),result}function validateAge(a){return""===a.value?(setError(a,"Age is required"),result=!1):isValidAge(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter your age"),result=!1),result}function validateAddress(a){return""===a.value?(setError(a,"Addres is required"),result=!1):isValidAddress(a.value)?(setSuccess(a),result=!0):(setError(a,"Provide a valid address"),result=!1),result}function validateEmail(a){return""===a.value?(setError(a,"Email is required"),result=!1):isValidEmail(a.value)?(setSuccess(a),result=!0):(setError(a,"Example john@example.com"),result=!1),result}function validatePhone(a){return""===a.value?(setError(a,"Email is required"),result=!1):isValidPhone(a.value)?(setSuccess(a),result=!0):(setError(a,"Example 0505555555"),result=!1),result}function validateProduct(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidProduct(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validatePartNumber(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidPartNumber(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter  correct part number"),result=!1),result}function validateIntende(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidIntende(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validatePriceGoods(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidPriceGoods(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateQuantityGoods(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidQuantityGoods(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateModel(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidModel(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateBody(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidBody(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateColor(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidColor(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateEngine(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidEngine(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateTransmission(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidTransmission(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateFuel(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidFuel(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validatePriceCar(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidPriceCar(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateQuantityCar(a){return""===a.value?(setError(a,"The field must be filled in"),result=!1):isValidQuantityCar(a.value)?(setSuccess(a),result=!0):(setError(a,"Enter a valid value"),result=!1),result}function validateFormPeople(){const a=document.querySelector(".textName"),b=document.querySelector(".textSurname"),c=document.querySelector(".textAge"),d=document.querySelector(".textAddress"),e=document.querySelector(".textEmail"),f=document.querySelector(".textPhone");if(validateName(a)&&validateSurname(b)&&validateAge(c)&&validateAddress(d)&&validateEmail(e)&&validatePhone(f))return!0}function validateFormGoods(){const a=document.querySelector(".textProduct"),b=document.querySelector(".textPartNumber"),c=document.querySelector(".textIntendeForCars"),d=document.querySelector(".textPriceAccessories"),e=document.querySelector(".textQuantityGoods");if(validateProduct(a)&&validatePartNumber(b)&&validateIntende(c)&&validatePriceGoods(d)&&validateQuantityGoods(e))return!0}function validateFormCars(){const a=document.querySelector(".textModel"),b=document.querySelector(".textBody"),c=document.querySelector(".textColor"),d=document.querySelector(".textEngine"),e=document.querySelector(".textTransmission"),f=document.querySelector(".textFuel"),g=document.querySelector(".textPriceCar"),h=document.querySelector(".textQuantityCars");if(validateModel(a)&&validateBody(b)&&validateColor(c)&&validateEngine(d)&&validateTransmission(e)&&validateFuel(f)&&validatePriceCar(g)&&validateQuantityCar(h))return!0}function hideForm(){document.querySelector(".form").reset()}